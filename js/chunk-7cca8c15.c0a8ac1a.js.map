{"version":3,"sources":["webpack:///./src/components/Search.vue?44d3","webpack:///./src/components/Search.vue?5b38","webpack:///src/components/Search.vue","webpack:///./src/components/Search.vue?f472","webpack:///./src/components/Search.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","on","$event","type","indexOf","_k","keyCode","key","submit","directives","name","rawName","value","expression","modifiers","attrs","domProps","isBlackout","target","composing","query","trim","$forceUpdate","setQuery","_v","class","getHistory","cleanHistory","_l","slice","reverse","item","i","_s","delHistory","getTags","delTag","model","callback","$$v","staticRenderFns","components","cBlackout","iconSearch","iconClose","data","created","getQuery","computed","methods","$store","commit","str","dispatch","component"],"mappings":"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","file":"js/chunk-7cca8c15.c0a8ac1a.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Search.vue?vue&type=style&index=0&id=c34c6ace&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Search.vue?vue&type=style&index=0&id=c34c6ace&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"search\",on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.submit()}}},[_c('div',{staticClass:\"search__field\"},[_c('icon-search',{staticClass:\"search__icon\"}),_c('input',{directives:[{name:\"model\",rawName:\"v-model.trim\",value:(_vm.query),expression:\"query\",modifiers:{\"trim\":true}}],staticClass:\"search__input\",attrs:{\"type\":\"text\",\"placeholder\":\"Введите название работы\"},domProps:{\"value\":(_vm.query)},on:{\"click\":function($event){_vm.isBlackout = true},\"input\":function($event){if($event.target.composing){ return; }_vm.query=$event.target.value.trim()},\"blur\":function($event){return _vm.$forceUpdate()}}}),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.query.length),expression:\"query.length\"}],staticClass:\"search__clear\",on:{\"click\":function($event){return _vm.setQuery('')}}},[_c('icon-close')],1),_c('button',{staticClass:\"search__button\",on:{\"click\":function($event){return _vm.submit()}}},[_vm._v(\"Поиск\")])],1),_c('div',{class:[ 'drawer', { 'drawer--active': _vm.isBlackout } ]},[_c('section',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.getHistory.length),expression:\"getHistory.length\"}],staticClass:\"tags\"},[_c('div',{staticClass:\"tags__title\"},[_c('span',[_vm._v(\"Недавние поисковые запросы:\")]),_c('span',{staticClass:\"tags__clean\",on:{\"click\":_vm.cleanHistory}},[_vm._v(\"Очистить\")])]),_vm._l((_vm.getHistory.slice().reverse().slice(0, 10)),function(item,i){return _c('div',{key:i,staticClass:\"tag\"},[_c('div',{staticClass:\"tag__label\",on:{\"click\":function($event){return _vm.submit(item)}}},[_vm._v(_vm._s(item))]),_c('span',{staticClass:\"tag__remove\",on:{\"click\":function($event){return _vm.delHistory(item)}}},[_c('icon-close')],1)])})],2),_c('section',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.getTags.length),expression:\"getTags.length\"}],staticClass:\"tags\"},[_c('div',{staticClass:\"tags__title\"},[_vm._v(\"Выбранные теги:\")]),_vm._l((_vm.getTags),function(item,i){return _c('div',{key:i,staticClass:\"tag\"},[_c('div',{staticClass:\"tag__label\"},[_vm._v(_vm._s(item))]),_c('span',{staticClass:\"tag__remove\",on:{\"click\":function($event){return _vm.delTag(item)}}},[_c('icon-close')],1)])})],2)]),_c('c-blackout',{model:{value:(_vm.isBlackout),callback:function ($$v) {_vm.isBlackout=$$v},expression:\"isBlackout\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"search\" @keyup.enter=\"submit()\">\r\n    <div class=\"search__field\">\r\n      <icon-search class=\"search__icon\" />\r\n      <input\r\n        class=\"search__input\"\r\n        type=\"text\"\r\n        placeholder=\"Введите название работы\"\r\n        v-model.trim=\"query\"\r\n        @click=\"isBlackout = true\"\r\n      />\r\n      <span class=\"search__clear\" v-show=\"query.length\" @click=\"setQuery('')\"><icon-close /></span>\r\n      <button class=\"search__button\" @click=\"submit()\">Поиск</button>\r\n    </div>\r\n\r\n    <div :class=\"[ 'drawer', { 'drawer--active': isBlackout } ]\">\r\n      <section class=\"tags\" v-show=\"getHistory.length\">\r\n        <div class=\"tags__title\">\r\n          <span>Недавние поисковые запросы:</span>\r\n          <span class=\"tags__clean\" @click=\"cleanHistory\">Очистить</span>\r\n        </div>\r\n\r\n        <div class=\"tag\" v-for=\"(item, i) in getHistory.slice().reverse().slice(0, 10)\" :key=\"i\">\r\n          <div class=\"tag__label\" @click=\"submit(item)\">{{ item }}</div>\r\n          <span class=\"tag__remove\" @click=\"delHistory(item)\"><icon-close /></span>\r\n        </div>\r\n      </section>\r\n\r\n      <section class=\"tags\" v-show=\"getTags.length\">\r\n        <div class=\"tags__title\">Выбранные теги:</div>\r\n\r\n        <div class=\"tag\" v-for=\"(item, i) in getTags\" :key=\"i\">\r\n          <div class=\"tag__label\">{{ item }}</div>\r\n          <span class=\"tag__remove\" @click=\"delTag(item)\"><icon-close /></span>\r\n        </div>\r\n      </section>\r\n    </div>\r\n\r\n    <c-blackout v-model=\"isBlackout\" />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters } from 'vuex'\r\n\r\nexport default {\r\n  name: 'c-search',\r\n\r\n  components: {\r\n    cBlackout: () => import('@/components/Blackout'),\r\n    iconSearch: () => import('mdi-vue/Magnify'),\r\n    iconClose: () => import('mdi-vue/Close')\r\n  },\r\n\r\n  data: () => ({\r\n    isBlackout: false,\r\n    query: ''\r\n  }),\r\n\r\n  created () {\r\n    this.query = this.getQuery\r\n  },\r\n\r\n  computed: {\r\n    ...mapGetters({\r\n      getQuery: 'search/getQuery',\r\n      getHistory: 'search/getHistory',\r\n      getTags: 'search/getTags'\r\n    })\r\n  },\r\n\r\n  methods: {\r\n    delHistory (item) {\r\n      this.$store.commit('search/delHistory', item)\r\n    },\r\n    cleanHistory () {\r\n      this.$store.commit('search/cleanHistory')\r\n    },\r\n    delTag (item) {\r\n      this.$store.commit('search/delTag', item)\r\n    },\r\n    setQuery (str) {\r\n      this.query = str\r\n      this.$store.commit('search/setQuery', str)\r\n    },\r\n    submit (query) {\r\n      this.isBlackout = false\r\n\r\n      if (query) {\r\n        this.query = query\r\n        this.$store.dispatch('search/submit', query)\r\n      } else {\r\n        this.$store.dispatch('search/submit', this.query)\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n  .search {\r\n    position: relative;\r\n    z-index: 10;\r\n  }\r\n  .search__field {\r\n    position: relative;\r\n    background: #fff;\r\n    height: 50px;\r\n    width: inherit;\r\n    border-radius: 3px;\r\n    display: flex;\r\n    align-items: center;\r\n    z-index: 10;\r\n    border: 1px solid transparent;\r\n  }\r\n  .search__icon {\r\n    padding: 10px 0 10px 10px;\r\n    color: hsl(var(--ui-primary));\r\n    width: 25px;\r\n  }\r\n  .search__input {\r\n    flex: 1;\r\n    height: 100%;\r\n    width: 100%;\r\n    outline: none;\r\n    border: none;\r\n    padding: 10px;\r\n    font-family: inherit;\r\n    font-size: 18px;\r\n    color: hsl(var(--ui-primary));\r\n    box-sizing: border-box;\r\n  }\r\n  .search__clear {\r\n    width: 20px;\r\n    cursor: pointer;\r\n    color: hsl(var(--ui-primary));\r\n    transition: color .2s;\r\n  }\r\n  .search__clear:hover {\r\n    color: hsl(var(--ui-active));\r\n  }\r\n  .search__button {\r\n    background: hsl(var(--ui-active));\r\n    color: #fff;\r\n    height: calc(100% - 10px);\r\n    border: none;\r\n    outline: none;\r\n    border-radius: 3px;\r\n    margin: 5px;\r\n    padding: 0 20px;\r\n    cursor: pointer;\r\n    font-size: 16px;\r\n    user-select: none;\r\n    transition: background .2s;\r\n  }\r\n  .search__button:hover {\r\n    background: hsl(var(--ui-active-h), var(--ui-active-s), calc(var(--ui-active-l) - 5%));\r\n  }\r\n\r\n  .drawer {\r\n    position: absolute;\r\n    z-index: 9;\r\n    background: #fff;\r\n    margin-top: -2px;\r\n    border-radius: 0 0 3px 3px;\r\n    box-sizing: border-box;\r\n    width: 100%;\r\n    transform-origin: 0 0;\r\n    transform: scaleY(0);\r\n    transition: transform .2s;\r\n  }\r\n  .drawer--active {\r\n    transform: scaleY(1);\r\n    transition: transform .2s .3s;\r\n  }\r\n\r\n  .tags {\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n    padding: 5px 15px;\r\n  }\r\n  .tags__title {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    font-size: 14px;\r\n    font-weight: 500;\r\n    width: 100%;\r\n    margin-bottom: 10px;\r\n    color: hsl(var(--ui-primary));\r\n  }\r\n  .tags__clean {\r\n    font-size: 12px;\r\n    font-weight: 400;\r\n    cursor: pointer;\r\n  }\r\n  .tag {\r\n    margin: 0 10px 10px 0;\r\n    background: hsla(var(--ui-primary), .1);\r\n    border-radius: 3px;\r\n    color: hsl(var(--ui-primary));\r\n    display: flex;\r\n    align-items: center;\r\n    font-size: 14px;\r\n    font-weight: 400;\r\n    cursor: pointer;\r\n    user-select: none;\r\n    transition: color .2s, background .2s;\r\n  }\r\n  .tag:hover {\r\n    background: hsla(var(--ui-active), .1);\r\n    color: hsl(var(--ui-active));\r\n  }\r\n  .tag__label {\r\n    padding: 5px 0 5px 10px;\r\n    max-width: 150px;\r\n    align-items: center;\r\n    white-space: nowrap;\r\n    overflow: hidden;\r\n    text-overflow: ellipsis;\r\n  }\r\n  .tag__remove {\r\n    display: block;\r\n    width: 14px;\r\n    padding: 5px;\r\n  }\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Search.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Search.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Search.vue?vue&type=template&id=c34c6ace&scoped=true&\"\nimport script from \"./Search.vue?vue&type=script&lang=js&\"\nexport * from \"./Search.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Search.vue?vue&type=style&index=0&id=c34c6ace&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"c34c6ace\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}