{"version":3,"sources":["webpack:///./src/layouts/default/Layout.vue?3744","webpack:///src/layouts/default/Layout.vue","webpack:///./src/layouts/default/Layout.vue?21ab","webpack:///./src/layouts/default/Layout.vue","webpack:///./src/layouts/default/Layout.vue?2af4"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","style","height","on","onScroll","attrs","_e","menu","transitionName","footerHidden","isLoaded","staticRenderFns","name","components","cLoader","lSidebar","lFooter","lHeader","metaInfo","meta","link","data","label","icon","route","watch","$route","isDesktop","undefined","from","index","to","mounted","Promise","all","console","error","err","computed","isMobile","$screen","width","methods","scroll","e","target","scrollTop","component"],"mappings":"yHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,SAASC,MAAM,CAAGC,OAAQR,EAAIQ,QAAUC,GAAG,CAAC,OAAST,EAAIU,WAAW,CAACN,EAAG,aAAa,CAACO,MAAM,CAAC,KAAO,OAAO,KAAO,WAAW,CAAEX,EAAY,SAAEI,EAAG,MAAM,CAACE,YAAY,iBAAiB,CAAEN,EAAY,SAAEI,EAAG,WAAW,CAACE,YAAY,mBAAmBN,EAAIY,KAAMZ,EAAa,UAAEI,EAAG,YAAY,CAACE,YAAY,kBAAkBK,MAAM,CAAC,KAAOX,EAAIa,QAAQb,EAAIY,KAAKR,EAAG,OAAO,CAACE,YAAY,mBAAmB,CAACF,EAAG,aAAa,CAACO,MAAM,CAAC,KAAOX,EAAIc,eAAe,KAAO,WAAW,CAACV,EAAG,gBAAgB,IAAI,GAAIJ,EAAY,SAAEI,EAAG,WAAW,CAACE,YAAY,iBAAiBK,MAAM,CAAC,KAAOX,EAAIa,KAAK,OAASb,EAAIe,gBAAgBf,EAAIY,MAAM,GAAGZ,EAAIY,OAASZ,EAAIgB,SAA4EhB,EAAIY,KAAtER,EAAG,WAAW,CAACE,YAAY,iBAAiBK,MAAM,CAAC,KAAO,SAAkB,IAC3zBM,EAAkB,G,wDCuBtB,GACEC,KAAM,iBAENC,WAAY,CACVC,QAAS,WAAb,wDACIC,SAAU,WAAd,wDACIC,QAAS,WAAb,wDACIC,QAAS,WAAb,yDAGEC,SAAU,CACRC,KAAM,CACV,CAAM,KAAN,UAAM,QAAN,SACA,CAAM,KAAN,WAAM,KAAN,WAAM,QAAN,wCAEIC,KAAM,CACV,CAAM,KAAN,UAAM,IAAN,OAAM,KAAN,eAAM,KAAN,8BACA,CAAM,IAAN,aAAM,KAAN,yEACA,CAAM,IAAN,aAAM,KAAN,+BACA,CAAM,IAAN,aAAM,KAAN,wCAIEC,KAAM,WAAR,OACA,gBACA,SACA,YACA,0BACA,MACA,CACQC,MAAO,aACPC,KAAM,WAAd,wDACQC,MAAO,CAAf,cAEA,CACQF,MAAO,UACPC,KAAM,WAAd,wDACQC,MAAO,CAAf,kBAEA,CACQF,MAAO,UACPC,KAAM,WAAd,wDACQC,MAAO,CAAf,kBAKEC,MAAO,CACLC,OADJ,SACA,KACM,GAAI/B,KAAKgC,UACP,OAAOhC,KAAKa,eAAiB,YAGPoB,IAApBC,EAAKV,KAAKW,YAAyCF,IAAlBG,EAAGZ,KAAKW,MACvCD,EAAKV,KAAKW,MAAQC,EAAGZ,KAAKW,MAC5BnC,KAAKa,eAAiB,aAEtBb,KAAKa,eAAiB,cAGxBb,KAAKa,eAAiB,SAK5BwB,QAjEF,WAiEA,WACIC,QAAQC,IAAI,CAChB,2DACA,2CAEA,iBACM,EAAN,eAEA,mBACMC,QAAQC,MAAMC,OAIlBC,SAAU,OAAZ,OAAY,CAAZ,GACA,gBACI,SAAJ,oBACI,YAAJ,yBAHA,CAMIpC,OANJ,WAQM,OAAIP,KAAK4C,SACA,GAAf,gCAGa,SAGTA,SAfJ,WAgBM,OAAO5C,KAAK6C,QAAQC,OAAS,KAE/Bd,UAlBJ,WAmBM,OAAOhC,KAAK6C,QAAQC,MAAQ,OAIhCC,QAAS,CACPtC,SADJ,SACA,GACUT,KAAKgD,OAASC,EAAEC,OAAOC,UACzBnD,KAAKc,cAAe,EAEpBd,KAAKc,cAAe,EAGtBd,KAAKgD,OAASC,EAAEC,OAAOC,aCrIkU,I,wBCQ3VC,EAAY,eACd,EACAtD,EACAkB,GACA,EACA,KACA,WACA,MAIa,aAAAoC,E,oECnBf,yBAAuf,EAAG","file":"js/chunk-5a772beb.8d76f7ca.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"layout\",style:({ height: _vm.height }),on:{\"scroll\":_vm.onScroll}},[_c('transition',{attrs:{\"name\":\"fade\",\"mode\":\"out-in\"}},[(_vm.isLoaded)?_c('div',{staticClass:\"layout__inner\"},[(_vm.isMobile)?_c('l-header',{staticClass:\"layout__header\"}):_vm._e(),(_vm.isDesktop)?_c('l-sidebar',{staticClass:\"layout__sidebar\",attrs:{\"menu\":_vm.menu}}):_vm._e(),_c('main',{staticClass:\"layout__content\"},[_c('transition',{attrs:{\"name\":_vm.transitionName,\"mode\":\"out-in\"}},[_c('router-view')],1)],1),(_vm.isMobile)?_c('l-footer',{staticClass:\"layout__footer\",attrs:{\"menu\":_vm.menu,\"hidden\":_vm.footerHidden}}):_vm._e()],1):_vm._e()]),(!_vm.isLoaded)?_c('c-loader',{staticClass:\"layout__loader\",attrs:{\"size\":\"70\"}}):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"layout\" :style=\"{ height }\" @scroll=\"onScroll\">\r\n    <transition name=\"fade\" mode=\"out-in\">\r\n      <div class=\"layout__inner\" v-if=\"isLoaded\">\r\n        <l-header class=\"layout__header\" v-if=\"isMobile\" />\r\n        <l-sidebar class=\"layout__sidebar\" :menu=\"menu\" v-if=\"isDesktop\" />\r\n\r\n        <main class=\"layout__content\">\r\n          <transition :name=\"transitionName\" mode=\"out-in\">\r\n            <router-view />\r\n          </transition>\r\n        </main>\r\n\r\n        <l-footer class=\"layout__footer\" :menu=\"menu\" :hidden=\"footerHidden\" v-if=\"isMobile\" />\r\n      </div>\r\n    </transition>\r\n\r\n    <c-loader class=\"layout__loader\" size=\"70\" v-if=\"!isLoaded\" />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters } from 'vuex'\r\n\r\nexport default {\r\n  name: 'layout-default',\r\n\r\n  components: {\r\n    cLoader: () => import('@/components/Loader'),\r\n    lSidebar: () => import('./Sidebar'),\r\n    lFooter: () => import('./Footer.mobile'),\r\n    lHeader: () => import('./Header.mobile')\r\n  },\r\n\r\n  metaInfo: {\r\n    meta: [\r\n      { vmid: 'charset', charset: 'utf-8' },\r\n      { vmid: 'vuewport', name: 'viewport', content: 'width=device-width, initial-scale=1' }\r\n    ],\r\n    link: [\r\n      { vmid: 'favicon', rel: 'icon', type: 'image/x-icon', href: `${process.env.BASE_URL}favicon.ico` },\r\n      { rel: 'stylesheet', href: 'https://fonts.googleapis.com/css2?family=Source+Sans+Pro&display=swap' },\r\n      { rel: 'stylesheet', href: `${process.env.BASE_URL}css/main.css` },\r\n      { rel: 'stylesheet', href: `${process.env.BASE_URL}css/transitions.css` }\r\n    ]\r\n  },\r\n\r\n  data: () => ({\r\n    footerHidden: false,\r\n    scroll: 0,\r\n    isLoaded: false,\r\n    transitionName: 'slide-up',\r\n    menu: [\r\n      {\r\n        label: 'Все работы',\r\n        icon: () => import('mdi-vue/BriefcaseOutline'),\r\n        route: { name: 'home' }\r\n      },\r\n      {\r\n        label: 'Проекты',\r\n        icon: () => import('mdi-vue/ViewGridOutline'),\r\n        route: { name: 'projects' }\r\n      },\r\n      {\r\n        label: 'Обо мне',\r\n        icon: () => import('mdi-vue/AccountCircleOutline'),\r\n        route: { name: 'about' }\r\n      }\r\n    ]\r\n  }),\r\n\r\n  watch: {\r\n    $route(to, from) {\r\n      if (this.isDesktop) {\r\n        return this.transitionName = 'fade'\r\n      }\r\n\r\n      if (from.meta.index !== undefined && to.meta.index !== undefined) {\r\n        if (from.meta.index < to.meta.index) {\r\n          this.transitionName = 'slide-left'\r\n        } else {\r\n          this.transitionName = 'slide-right'\r\n        }\r\n      } else {\r\n        this.transitionName = 'fade'\r\n      }\r\n    }\r\n  },\r\n  \r\n  mounted () {\r\n    Promise.all([\r\n      this.$store.dispatch('account/set', '2H2hoSEdfxZFhGlBoXXl'),\r\n      this.$store.dispatch('worklist/setList')\r\n    ])\r\n    .then(() => {\r\n      this.isLoaded = true\r\n    })\r\n    .catch(err => {\r\n      console.error(err)\r\n    })\r\n  },\r\n\r\n  computed: {\r\n    ...mapGetters({\r\n      getWorks: 'worklist/getWorks',\r\n      getProjects: 'worklist/getProjects'\r\n    }),\r\n\r\n    height () {\r\n      // Hack for mobile\r\n      if (this.isMobile) {\r\n        return `${window.innerHeight}px`\r\n      }\r\n\r\n      return '100vh'\r\n    },\r\n\r\n    isMobile () {\r\n      return this.$screen.width <= 900\r\n    },\r\n    isDesktop () {\r\n      return this.$screen.width > 900\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    onScroll (e) {\r\n      if (this.scroll < e.target.scrollTop) {\r\n        this.footerHidden = true\r\n      } else {\r\n        this.footerHidden = false\r\n      }\r\n\r\n      this.scroll = e.target.scrollTop\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n  .layout {\r\n    background: #f3f8fb;\r\n    font-family: 'Source Sans Pro', sans-serif;\r\n    font-weight: 400;\r\n    overflow-x: hidden;\r\n    overflow-y: scroll;\r\n  }\r\n  .layout__inner {\r\n    position: relative;\r\n    max-width: 900px;\r\n    margin: 0 auto;\r\n    padding: 70px 0;\r\n    box-sizing: border-box;\r\n    display: flex;\r\n    min-height: 100%;\r\n  }\r\n  .layout__inner::before {\r\n    content: '';\r\n    position: fixed;\r\n    height: 100%;\r\n    top: 0;\r\n    left: 0;\r\n    background: #fff;\r\n    width: calc(50% - 207px);\r\n    box-shadow: 1px 0 2px rgba(0,0,0,.05);\r\n  }\r\n  .layout__sidebar {\r\n    max-width: 250px;\r\n    min-width: 250px;\r\n  }\r\n  .layout__content {\r\n    padding: 0 40px;\r\n    box-sizing: border-box;\r\n    flex: 1;\r\n  }\r\n  .layout__loader {\r\n    position: fixed;\r\n    top: 50%;\r\n    left: 50%;\r\n    margin: -35px 0 0 -35px;\r\n  }\r\n\r\n  @media (max-width: 900px) {\r\n    .layout__inner {\r\n      padding: 0;\r\n      flex-direction: column;\r\n    }\r\n    .layout__inner::before {\r\n      display: none;\r\n    }\r\n    .layout__content {\r\n      padding: 20px;\r\n    }\r\n  }\r\n\r\n  @media (max-width: 500px) {\r\n    .layout__content {\r\n      padding: 10px;\r\n    }\r\n  }\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Layout.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Layout.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Layout.vue?vue&type=template&id=3663bfb6&scoped=true&\"\nimport script from \"./Layout.vue?vue&type=script&lang=js&\"\nexport * from \"./Layout.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Layout.vue?vue&type=style&index=0&id=3663bfb6&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3663bfb6\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Layout.vue?vue&type=style&index=0&id=3663bfb6&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Layout.vue?vue&type=style&index=0&id=3663bfb6&scoped=true&lang=css&\""],"sourceRoot":""}